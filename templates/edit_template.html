{% extends "base.html" %}

{% block content %}

{% block sidebar %}
    {% include "sidebar.html" %}
{% endblock %}

<div class="container mt-5">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="template-tab" data-toggle="tab" href="#template" role="tab">Template</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="variables-tab" data-toggle="tab" href="#variables" role="tab">Variables</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="publish-tab" data-toggle="tab" href="#publish" role="tab">Publish</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div class="tab-pane fade show active" id="template" role="tabpanel">
            <form action="/template/{{ template.id }}/" method="post" class="mt-3">
                <div class="form-group">
                    <input type="text" name="template_name" value="{{ template.template_name }}" class="form-control" required placeholder="Template Name">
                </div>
                <div class="form-group">
                    <textarea name="template_content" class="form-control" rows="5">{{ template.content }}</textarea>
                </div>
                <button type="submit" name="save_template" class="btn btn-primary">Save</button>
            </form>
        </div>

        <div class="tab-pane fade" id="variables" role="tabpanel">
            <form action="/template/{{ template.id }}/" method="post" class="mt-3">
                <div class="form-group">
                    <input type="text" name="variable_name" class="form-control" required placeholder="Variable Name">
                </div>
                <button type="submit" name="add_variable" class="btn btn-success">Add Variable</button>
            </form>
            <ul class="mt-3">
            {% for variable in variables %}
                <li>{{ variable }}</li>
            {% endfor %}
            </ul>
        </div>

        <div class="tab-pane fade" id="publish" role="tabpanel">
            <!-- Content for Publish tab -->
        </div>
    </div>
</div>

{% endblock %}